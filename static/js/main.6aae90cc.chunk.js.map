{"version":3,"sources":["utils/parser.js","utils/animate.ts","utils/utils.ts","utils/easing.ts","components/Accordion.tsx","components/Act.tsx","components/Button.tsx","components/Play.tsx","contexts/personaeContext.tsx","components/Personae.tsx","components/Persona.tsx","components/SpeechTitle.tsx","components/PersonaGroup.tsx","components/Text.tsx","components/Title.tsx","components/Scene.tsx","components/Speech.tsx","components/Icon.tsx","components/Player.tsx","components/Menu.tsx","components/StyledLink.tsx","components/PlayViewer.tsx","components/Loading.tsx","components/ParallaxHeader.tsx","components/PlayHeader.tsx","components/Switch.tsx","components/Search.tsx","components/AutoscrollControls.tsx","index.tsx","themes/index.ts"],"names":["xmlParser","obj","text","dom","childNodes","children","nodeName","toLowerCase","length","forEach","child","push","console","log","innerHTML","replace","fadeInAnimation","keyframes","quillAnimation","lineAnimation","leftInAnimation","getRandomColor","color","i","Math","floor","random","findString","str","strFound","isCaseSensitive","isBackwards","isWrapAround","isWholeWord","parseInt","navigator","appVersion","self","find","getSelection","anchorNode","easing","t","b","c","d","cos","PI","AccordionWrapper","styled","div","props","theme","css","AccordionTitle","span","headerFont","AccordionGroupWrapper","AccordionExpandWrapper","AccordionHeaderWrapper","borderColor","AccordionContentWrapper","IconWrapper","Accordion","items","useState","openSection","setOpenSection","contentRef","useRef","animate","index","startHeight","endHeight","startTime","window","requestAnimationFrame","parentElement","current","deltaHeight","performance","now","style","height","map","item","title","render","isOpen","includes","onClick","contentHeight","clientHeight","indexOf","splice","setTimeout","icon","transition","opacity","ref","ActWrapper","ActTitleWrapper","Act","onUpdatePlayer","size","ButtonWrapper","button","Button","PlayWrapper","ScndescrWrapper","Play","PersonaeContext","createContext","PersonaeConsumer","Consumer","Provider","PersonaeProvider","personae","setNewPersonae","playId","setPlayId","useEffect","localStorage","getItem","JSON","parse","setPersonae","persona","setItem","stringify","value","setPersonaColor","name","personaIndex","findIndex","newPersonae","getPersonaColor","getIsPersonaeLoaded","PersonaeContent","Personae","personaeContext","useContext","personaeReduce","getPersonae","reduce","acc","node","personaeContent","PersonaWrapper","SketchPickerWrapper","PersonaTitleWrapper","PersonaComponent","isColorPickerVisible","setIsColorPickerVisible","sketchPickerColor","setSketchPickerColor","handleEsc","e","key","document","addEventListener","removeEventListener","handleToggleColorPicker","onChange","hex","onChangeComplete","Persona","context","SpeechTitle","PersonaGroup","TextWrapper","Text","TitleWrapper","Title","toUpperCase","SceneWrapper","StageDirWrapper","Scene","SpeechWrapper","Speech","library","add","faChevronUp","faChevronDown","faChevronLeft","faChevronRight","faTimes","faBars","faFeatherAlt","faPlay","faPause","faForward","faBackward","faStepForward","faStepBackward","faPlus","faMinus","faSearch","isCentre","paddingSize","padding","Icon","prefix","fixedWidth","PlayerWrapper","boxShadow","DetailsWrapper","YoutubeWrapper","ControlWrapper","PlayerRefComponent","youtubeId","actKeyframes","player","setPlayer","isPlaying","setIsPlaying","useImperativeHandle","updatePlayer","updateId","timeString","keyframe","actKeyframe","seekTo","time","moment","diff","interval","setInterval","scrollY","getCurrentTime","clearInterval","seekTime","parseFloat","videoId","opts","width","playerVars","controls","autoplay","playsinline","onReady","event","target","onPlay","onPause","pauseVideo","playVideo","Player","forwardRef","PageLayout","MenuWrapper","MenuColumn","MenuLinkWrapper","isActive","Menu","menuContent","setMenuContent","fetch","process","headers","Accept","then","response","json","menu","Object","keys","menuItem","plays","play","id","to","StyledLinkWrapper","linkProps","asButton","isBlock","isHoverOpacityDisabled","gradientToColor","gradientFromColor","borderRadius","StyledLink","stopPropagation","isShadow","PlayViewerWrapper","BackgroundImage","PlayViewer","useParams","setPlay","playContent","setPlayContent","playerRef","createRef","axios","get","xml","DOMParser","parseFromString","data","youtube","LoadingWrapper","LoadingText","QuillWrapper","LineWrapper","Loading","MenuHeader","ParallaxBackground","img","MenuHeaderTorn","ParallaxHeader","src","alt","background","HomeButtonWrapper","NavLink","SearchButtonWrapper","PlayHeader","isSearchVisible","setIsSearchVisible","enterPress","Label","SwitchWrapper","Switch","label","isLabelVisible","isChecked","accentColor","useTheme","isCheckedState","setChecked","checked","onColor","aria-checked","aria-label","SearchWrapper","StyledInput","input","Search","handleSearchClick","focus","type","placeholder","AutoscrollControls","isAutoscrolling","setIsAutoscrolling","isScrolling","autoScrollPosition","autoScrollRate","scrollingElement","scrollTop","autoScroll","ReactDOM","copyFont","imageWidth","menuHeight","menuWidth","Mesh","sliceRatio","ambient","diffuse","Lights","zOffset","spotlights","path","getElementById"],"mappings":"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","file":"static/js/main.6aae90cc.chunk.js","sourcesContent":["const etcFormatter = (text) => text.replace('&amp;c.', 'etc.')\n\nexport const xmlParser = (obj) => {\n  const { dom, childNodes = [] } = obj\n\n  let children = [...dom.children]\n  const nodeName = dom.nodeName.toLowerCase()\n\n  if (!children.length) {\n    console.log('line ->', dom.innerHTML)\n    return { nodeName, text: etcFormatter(dom.innerHTML) }\n  }\n\n  children.forEach((child) => {\n    childNodes.push(xmlParser({ dom: child, childNodes: [] }))\n  })\n\n  return { nodeName, childNodes }\n}\n","import { keyframes } from 'styled-components/macro'\n\nexport const fadeInAnimation = keyframes`\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n`\n\nexport const quillAnimation = keyframes`\n  0% {\n    transform: translateX(-20px) rotate(-10deg);\n    opacity: 0;\n  }\n  10% {\n    opacity: 1;\n  }\n\n  25% {\n    transform:  translateX(-10px) rotate(10deg);\n  }\n\n  50% {\n    transform: translateX(0) rotate(-10deg);\n  }\n\n  75% {\n    transform: translateX(10px) rotate(10deg); \n  }\n\n  90% {\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(20px) rotate(-10deg);\n    opacity: 0;\n  }\n`\n\nexport const lineAnimation = keyframes`\n  0% {\n    transform: translateX(0);\n  }\n\n  10% {}\n\n  25% {\n    transform: translateX(5px);\n  }\n\n  50% {\n    transform: translateX(15px);\n  }\n\n  75% {\n    transform: translateX(25px);\n  }\n\n  90% {}\n\n  100% {\n    transform: translateX(30px);\n  }\n`\n\nexport const leftInAnimation = keyframes`\n  from {\n    transform: translateX(30px);\n  }\n\n  to {\n    transform: translateX(0);\n  }\n`\n","import moment from 'moment'\n\nexport const getRandomColor = () => {\n  const letters = '0123456789ABCDEF'\n  let color = '#'\n\n  for (let i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * 16)]\n  }\n\n  return color\n}\n\nexport const getSafeName = (name: string): string =>\n  name\n    .split(' ')[0]\n    .replace(/[\\p{P}$+<=>^`|~]/gu, '')\n    .toLowerCase()\n\nexport const stringToSeconds = (timeString: string) =>\n  moment(timeString, 'HH:mm:ss').diff(\n    moment('00:00:00', 'HH:mm:ss'),\n    'seconds'\n  )\n\nexport const findString = (\n  str: string,\n  isCaseSensitive = false,\n  isBackwards = false,\n  isWrapAround = false,\n  isWholeWord = false\n) => {\n  if (parseInt(navigator.appVersion) < 4) return\n  let strFound\n\n  strFound = self.find(\n    str,\n    isCaseSensitive,\n    isBackwards,\n    isWrapAround,\n    isWholeWord\n  )\n  if (\n    strFound &&\n    self.getSelection &&\n    // @ts-ignore\n    !self.getSelection().anchorNode\n  ) {\n    strFound = self.find(\n      str,\n      isCaseSensitive,\n      isBackwards,\n      isWrapAround,\n      isWholeWord\n    )\n  }\n  if (!strFound) {\n    strFound = self.find(\n      str,\n      isCaseSensitive,\n      true, //isBackwards\n      isWrapAround,\n      isWholeWord\n    )\n\n    while (\n      self.find(\n        str,\n        isCaseSensitive,\n        true, //isBackwards\n        isWrapAround,\n        isWholeWord\n      )\n    )\n      continue\n  }\n\n  // if (!strFound) alert(\"String '\" + str + \"' not found!\")\n  return\n}\n","// t: current time, b: begInnIng value, c: change In value, d: duration\n\nexport const easing = {\n  easeInQuad: (t: number, b: number, c: number, d: number) => {\n    return c * (t /= d) * t + b\n  },\n  easeOutQuad: (t: number, b: number, c: number, d: number) => {\n    return -c * (t /= d) * (t - 2) + b\n  },\n  easeInOutQuad: (t: number, b: number, c: number, d: number) => {\n    if ((t /= d / 2) < 1) return (c / 2) * t * t + b\n    return (-c / 2) * (--t * (t - 2) - 1) + b\n  },\n  easeInCubic: (t: number, b: number, c: number, d: number) => {\n    return c * (t /= d) * t * t + b\n  },\n  easeOutCubic: (t: number, b: number, c: number, d: number) => {\n    return c * ((t = t / d - 1) * t * t + 1) + b\n  },\n  easeInOutCubic: (t: number, b: number, c: number, d: number) => {\n    if ((t /= d / 2) < 1) return (c / 2) * t * t * t + b\n    return (c / 2) * ((t -= 2) * t * t + 2) + b\n  },\n  easeInQuart: (t: number, b: number, c: number, d: number) => {\n    return c * (t /= d) * t * t * t + b\n  },\n  easeOutQuart: (t: number, b: number, c: number, d: number) => {\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b\n  },\n  easeInOutQuart: (t: number, b: number, c: number, d: number) => {\n    if ((t /= d / 2) < 1) return (c / 2) * t * t * t * t + b\n    return (-c / 2) * ((t -= 2) * t * t * t - 2) + b\n  },\n  easeInQuint: (t: number, b: number, c: number, d: number) => {\n    return c * (t /= d) * t * t * t * t + b\n  },\n  easeOutQuint: (t: number, b: number, c: number, d: number) => {\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b\n  },\n  easeInOutQuint: (t: number, b: number, c: number, d: number) => {\n    if ((t /= d / 2) < 1) return (c / 2) * t * t * t * t * t + b\n    return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b\n  },\n  easeInSine: (t: number, b: number, c: number, d: number) => {\n    return -c * Math.cos((t / d) * (Math.PI / 2)) + c + b\n  },\n  easeOutSine: (t: number, b: number, c: number, d: number) => {\n    return c * Math.sin((t / d) * (Math.PI / 2)) + b\n  },\n  easeInOutSine: (t: number, b: number, c: number, d: number) => {\n    return (-c / 2) * (Math.cos((Math.PI * t) / d) - 1) + b\n  },\n  easeInExpo: (t: number, b: number, c: number, d: number) => {\n    return t === 0 ? b : c * Math.pow(2, 10 * (t / d - 1)) + b\n  },\n  easeOutExpo: (t: number, b: number, c: number, d: number) => {\n    return t === d ? b + c : c * (-Math.pow(2, (-10 * t) / d) + 1) + b\n  },\n  easeInOutExpo: (t: number, b: number, c: number, d: number) => {\n    if (t === 0) return b\n    if (t === d) return b + c\n    if ((t /= d / 2) < 1)\n      return (c / 2) * Math.pow(2, 10 * (t - 1)) + b\n    return (c / 2) * (-Math.pow(2, -10 * --t) + 2) + b\n  },\n  easeInCirc: (t: number, b: number, c: number, d: number) => {\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b\n  },\n  easeOutCirc: (t: number, b: number, c: number, d: number) => {\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b\n  },\n  easeInOutCirc: (t: number, b: number, c: number, d: number) => {\n    if ((t /= d / 2) < 1)\n      return (-c / 2) * (Math.sqrt(1 - t * t) - 1) + b\n    return (c / 2) * (Math.sqrt(1 - (t -= 2) * t) + 1) + b\n  },\n  easeInElastic: (t: number, b: number, c: number, d: number) => {\n    let s = 1.70158\n    let p = 0\n    let a = c\n    if (t === 0) return b\n    if ((t /= d) === 1) return b + c\n    if (!p) p = d * 0.3\n    if (a < Math.abs(c)) {\n      a = c\n      s = p / 4\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a)\n    }\n    return (\n      -(\n        a *\n        Math.pow(2, 10 * (t -= 1)) *\n        Math.sin(((t * d - s) * (2 * Math.PI)) / p)\n      ) + b\n    )\n  },\n  easeOutElastic: (t: number, b: number, c: number, d: number) => {\n    let s = 1.70158\n    let p = 0\n    let a = c\n    if (t === 0) return b\n    if ((t /= d) === 1) return b + c\n    if (!p) p = d * 0.3\n    if (a < Math.abs(c)) {\n      a = c\n      s = p / 4\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a)\n    }\n    return (\n      a *\n        Math.pow(2, -10 * t) *\n        Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n      c +\n      b\n    )\n  },\n  easeInOutElastic: (t: number, b: number, c: number, d: number) => {\n    let s = 1.70158\n    let p = 0\n    let a = c\n    if (t === 0) return b\n    if ((t /= d / 2) === 2) return b + c\n    if (!p) p = d * (0.3 * 1.5)\n    if (a < Math.abs(c)) {\n      a = c\n      s = p / 4\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a)\n    }\n    if (t < 1)\n      return (\n        -0.5 *\n          (a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n        b\n      )\n    return (\n      a *\n        Math.pow(2, -10 * (t -= 1)) *\n        Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      c +\n      b\n    )\n  },\n  easeInBack: (\n    t: number,\n    b: number,\n    c: number,\n    d: number,\n    s: number\n  ) => {\n    if (s === undefined) s = 1.70158\n    return c * (t /= d) * t * ((s + 1) * t - s) + b\n  },\n  easeOutBack: (\n    t: number,\n    b: number,\n    c: number,\n    d: number,\n    s: number\n  ) => {\n    if (s === undefined) s = 1.70158\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b\n  },\n  easeInOutBack: (\n    t: number,\n    b: number,\n    c: number,\n    d: number,\n    s: number\n  ) => {\n    if (s === undefined) s = 1.70158\n    if ((t /= d / 2) < 1)\n      return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b\n    return (\n      (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b\n    )\n  },\n  easeOutBounce: (t: number, b: number, c: number, d: number) => {\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b\n    }\n  }\n}\n","import React, { ReactNode, useState, useRef } from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { Icon } from 'components'\nimport { easing } from 'utils'\n\ninterface AccordionItem {\n  title: string\n  render?: () => ReactNode\n}\n\ninterface Props {\n  items: AccordionItem[]\n}\n\n/*\n * Styled Components\n */\nconst AccordionWrapper = styled.div((props) => {\n  const {\n    theme: { color }\n  } = props\n\n  return css`\n    overflow: hidden;\n    user-select: none;\n    transform: translate3d(0, 0, 0);\n    width: 100%;\n\n    Icon {\n      fill: ${color};\n    }\n  `\n})\n\nconst AccordionTitle = styled.span((props) => {\n  const {\n    theme: { headerFont }\n  } = props\n\n  return css`\n    margin: 2rem 0;\n    text-transform: uppercase;\n    text-align: center;\n    width: 100%;\n    font-family: ${headerFont};\n    font-size: 1rem;\n  `\n})\n\nconst AccordionGroupWrapper = styled.div``\n\nconst AccordionExpandWrapper = styled.div`\n  height: 0;\n  opacity: 0;\n  overflow: hidden;\n`\n\nconst AccordionHeaderWrapper = styled.div((props) => {\n  const {\n    theme: { color, borderColor }\n  } = props\n\n  return css`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    cursor: pointer;\n    font-size: 0.8125rem;\n    border-bottom: 1px solid ${borderColor};\n    fill: ${color};\n  `\n})\n\nconst AccordionContentWrapper = styled.div((props) => {\n  const {\n    theme: { borderColor }\n  } = props\n\n  return css`\n    margin-top: 2rem;\n    padding-bottom: 2rem;\n    border-bottom: ${borderColor} solid 1px;\n  `\n})\n\nconst IconWrapper = styled.div`\n  position: absolute;\n  right: 0;\n`\n\n/*\n * Component\n */\nexport const Accordion = (props: Props) => {\n  const { items } = props\n\n  /*\n   * State/Ref\n   */\n  const [openSection, setOpenSection] = useState<number[]>([])\n  const contentRef = useRef<HTMLElement[]>([])\n\n  /*\n   * Function\n   */\n  const animate = (\n    index: number,\n    startHeight: number,\n    endHeight: number,\n    startTime: number\n  ) => {\n    window.requestAnimationFrame(() => {\n      const parentElement = contentRef.current[index].parentElement\n      let deltaHeight = 0\n\n      if (parentElement) {\n        if (startHeight < endHeight) {\n          deltaHeight = easing.easeInSine(\n            performance.now() - startTime,\n            startHeight,\n            endHeight,\n            200\n          )\n\n          if (deltaHeight < endHeight) {\n            animate(index, startHeight, endHeight, startTime)\n            parentElement.style.height = `${deltaHeight}px`\n          } else {\n            parentElement.style.height = `auto`\n          }\n        }\n\n        if (endHeight < startHeight) {\n          deltaHeight =\n            startHeight -\n            easing.easeInSine(\n              performance.now() - startTime,\n              endHeight,\n              startHeight,\n              200\n            )\n\n          if (deltaHeight > endHeight) {\n            animate(index, startHeight, endHeight, startTime)\n            parentElement.style.height = `${deltaHeight}px`\n          } else {\n            parentElement.style.height = '0'\n          }\n        }\n      }\n    })\n  }\n\n  return (\n    <AccordionWrapper>\n      {items &&\n        items.map((item, index) => {\n          const { title, render } = item\n\n          const isOpen = openSection.includes(index)\n\n          const handleItemClick = () => {\n            const contentHeight =\n              contentRef.current[index] &&\n              contentRef.current[index].clientHeight\n\n            if (!openSection.includes(index)) {\n              setOpenSection([...openSection, index])\n\n              animate(index, 0, contentHeight, performance.now())\n            } else {\n              const i = openSection.indexOf(index)\n              openSection.splice(i, 1)\n              setOpenSection([...openSection])\n\n              setTimeout(() => {\n                animate(index, contentHeight, 0, performance.now())\n              }, 100)\n            }\n          }\n\n          return (\n            <AccordionGroupWrapper key={`accordion-item-${index}`}>\n              <AccordionHeaderWrapper onClick={handleItemClick}>\n                <AccordionTitle>{title}</AccordionTitle>\n\n                <IconWrapper>\n                  <Icon\n                    icon={isOpen ? 'chevron-down' : 'chevron-right'}\n                  />\n                </IconWrapper>\n              </AccordionHeaderWrapper>\n\n              <AccordionExpandWrapper\n                style={{\n                  transition: isOpen ? `opacity 0.4s ease 0.2s` : ``,\n                  opacity: isOpen ? 1 : 0\n                }}\n              >\n                <AccordionContentWrapper\n                  ref={(ref) => {\n                    contentRef.current[index] = ref as HTMLElement\n                  }}\n                >\n                  {render && render()}\n                </AccordionContentWrapper>\n              </AccordionExpandWrapper>\n            </AccordionGroupWrapper>\n          )\n        })}\n    </AccordionWrapper>\n  )\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { NodeProps } from 'types'\nimport { Title, Scene } from 'components'\n\ninterface Props extends NodeProps {\n  onUpdatePlayer: (updateId: string) => void\n}\n\n/*\n * Styled Components\n */\nconst ActWrapper = styled.div((props) => {\n  const {\n    theme: { borderColor }\n  } = props\n\n  return css`\n    padding-top: 2rem;\n    border-top: 1px solid ${borderColor};\n    margin-top: 2rem;\n  `\n})\n\nconst ActTitleWrapper = styled.div`\n  cursor: pointer;\n`\n\n/*\n * Component\n */\nexport const Act = (props: Props) => {\n  const { childNodes, onUpdatePlayer } = props\n\n  return (\n    <ActWrapper>\n      {childNodes &&\n        childNodes.map((child, index) => {\n          const { nodeName, childNodes, text } = child\n\n          const handleUpdatePlayer = () => {\n            text && onUpdatePlayer(text)\n          }\n\n          switch (nodeName) {\n            case 'title':\n              return (\n                text && (\n                  <ActTitleWrapper\n                    key={`act-title-${index}`}\n                    onClick={handleUpdatePlayer}\n                  >\n                    <Title text={text} size=\"large\" />\n                  </ActTitleWrapper>\n                )\n              )\n\n            case 'scene':\n              return (\n                <Scene\n                  key={`act-scene-${index}`}\n                  nodeName={nodeName}\n                  childNodes={childNodes}\n                />\n              )\n\n            default:\n              break\n          }\n        })}\n    </ActWrapper>\n  )\n}\n","import React, { ReactNode } from 'react'\nimport styled from 'styled-components/macro'\nimport {} from 'components'\n\ninterface Props {\n  onClick: () => void\n  children: ReactNode | string\n}\n\n/*\n * Styled Components\n */\nconst ButtonWrapper = styled.button`\n  border: none;\n  outline: none;\n  background: transparent;\n  cursor: pointer;\n`\n\n/*\n * Component\n */\nexport const Button = (props: Props) => {\n  const { onClick, children } = props\n\n  return <ButtonWrapper onClick={onClick}>{children}</ButtonWrapper>\n}\n","import React, { Fragment } from 'react'\nimport styled from 'styled-components/macro'\nimport { Helmet } from 'react-helmet-async'\nimport { NodeProps } from 'types'\nimport { Personae, Title, Act, PlayHeader } from 'components'\n\ninterface Props extends NodeProps {\n  onUpdatePlayer: (updateId: string) => void\n}\n\n/*\n * Styled Components\n */\nconst PlayWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 500px;\n  margin-top: 80px;\n  margin-bottom: 250px;\n`\n\nconst ScndescrWrapper = styled.div`\n  margin-top: 2rem;\n`\n\n/*\n * Component\n */\nexport const Play = (props: Props) => {\n  const { childNodes, onUpdatePlayer } = props\n\n  return (\n    <PlayWrapper>\n      {childNodes &&\n        childNodes.map((child, index) => {\n          const { nodeName, childNodes, text } = child\n\n          switch (nodeName) {\n            case 'title':\n              return (\n                text && (\n                  <Fragment key={`play-title-${index}`}>\n                    <Helmet>\n                      <title>{text}</title>\n                    </Helmet>\n                    <PlayHeader title={text} />\n                  </Fragment>\n                )\n              )\n\n            case 'personae':\n              return (\n                <Personae\n                  key={`play-personae-${index}`}\n                  nodeName={nodeName}\n                  childNodes={childNodes}\n                />\n              )\n\n            case 'scndescr':\n              return (\n                text && (\n                  <ScndescrWrapper key={`play-scndescr-${index}`}>\n                    <Title text={text} size=\"extra-small\" />\n                  </ScndescrWrapper>\n                )\n              )\n\n            case 'act':\n              return (\n                <Act\n                  key={`play-act-${index}`}\n                  nodeName={nodeName}\n                  childNodes={childNodes}\n                  onUpdatePlayer={onUpdatePlayer}\n                />\n              )\n            default:\n              break\n          }\n        })}\n    </PlayWrapper>\n  )\n}\n","import React, {\n  createContext,\n  useState,\n  ReactNode,\n  useEffect\n} from 'react'\nimport { PersonaeContextProps, PersonaColor } from 'types'\n\ninterface Props {\n  children: ReactNode\n}\n\nexport const PersonaeContext = createContext<PersonaeContextProps | null>(\n  null\n)\n\nexport const PersonaeConsumer = PersonaeContext.Consumer\n\nconst Provider = PersonaeContext.Provider\n\nexport const PersonaeProvider = (props: Props) => {\n  const { children } = props\n\n  /*\n   * State\n   */\n  const [personae, setNewPersonae] = useState<PersonaColor[]>([])\n  const [playId, setPlayId] = useState<string>()\n\n  /*\n   * Hooks\n   */\n  useEffect(() => {\n    const personae = localStorage.getItem(`play-${playId}`)\n\n    if (personae) {\n      setNewPersonae(JSON.parse(personae))\n    } else {\n      setNewPersonae([])\n    }\n  }, [playId])\n\n  /*\n   * Event Handlers\n   */\n  const setPersonae = (persona: PersonaColor[]) => {\n    // Set personae to the context...\n    setNewPersonae(persona)\n\n    // Write to local storage...\n    localStorage.setItem(`play-${playId}`, JSON.stringify(persona))\n  }\n\n  const setPersonaColor = (name: string, color: string) => {\n    const personaIndex = personae.findIndex(\n      (persona) => persona.name === name\n    )\n\n    if (personaIndex !== -1) {\n      const newPersonae = [...personae]\n      newPersonae[personaIndex].color = color\n\n      setPersonae(newPersonae)\n    }\n  }\n\n  const getPersonaColor = (name: string) => {\n    const persona = personae.find((persona) =>\n      persona.name.includes(name)\n    )\n\n    if (persona) return persona.color\n\n    return null\n  }\n\n  const getIsPersonaeLoaded = () => personae.length > 0\n\n  return (\n    <Provider\n      value={{\n        personae,\n        setPlayId,\n        setPersonae,\n        setPersonaColor,\n        getPersonaColor,\n        getIsPersonaeLoaded\n      }}\n    >\n      {children}\n    </Provider>\n  )\n}\n","import React, { useEffect, useContext } from 'react'\nimport styled from 'styled-components/macro'\nimport { NodeProps, PersonaColor } from 'types'\nimport { Text, Persona, PersonaGroup, Accordion } from 'components'\nimport { PersonaeContext } from 'contexts'\nimport { getRandomColor } from 'utils'\n/*\n * Styled Components\n */\nconst PersonaeContent = styled.div``\n\n/*\n * Component\n */\n\nexport const Personae = (props: NodeProps) => {\n  const { childNodes } = props\n\n  const personaeContext = useContext(PersonaeContext)\n\n  useEffect(() => {\n    if (!personaeContext?.getIsPersonaeLoaded()) {\n      // Populate Personae context...\n      const getPersonae = (\n        childNodes: NodeProps[]\n      ): PersonaColor[] => {\n        return childNodes?.reduce(\n          (acc: PersonaColor[], node: NodeProps) => {\n            const { nodeName, text, childNodes } = node\n\n            if (nodeName === 'persona' && text)\n              return [\n                ...acc,\n                {\n                  name: text,\n                  color: getRandomColor()\n                }\n              ]\n\n            if (nodeName === 'pgroup' && childNodes)\n              return [...acc, ...getPersonae(childNodes)]\n\n            return acc\n          },\n          []\n        )\n      }\n\n      if (childNodes) {\n        const personaeReduce = getPersonae(childNodes)\n        personaeContext?.setPersonae(personaeReduce)\n      }\n    }\n  }, [])\n\n  const personaeContent =\n    childNodes &&\n    childNodes.map((child, index) => {\n      const { nodeName, childNodes, text } = child\n\n      switch (nodeName) {\n        case 'persona':\n          return (\n            text && <Persona key={`persona-${index}`} name={text} />\n          )\n\n        case 'grpdescr':\n          return (\n            text && (\n              <Text key={`persona-grpdescr-${index}`} text={text} />\n            )\n          )\n\n        case 'pgroup':\n          return (\n            <PersonaGroup\n              key={`persona-group-${index}`}\n              nodeName={nodeName}\n              childNodes={childNodes}\n            />\n          )\n\n        default:\n          break\n      }\n    })\n\n  return (\n    <>\n      <Accordion\n        items={[\n          {\n            title: 'DRAMATIS PERSONAE',\n            render: () => {\n              return (\n                <PersonaeContent>{personaeContent}</PersonaeContent>\n              )\n            }\n          }\n        ]}\n      />\n    </>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { SketchPicker, ColorResult } from 'react-color'\nimport { Icon } from 'components'\nimport { fadeInAnimation } from 'utils'\nimport { PersonaeConsumer } from 'contexts'\nimport { PersonaeContextProps } from 'types'\n\ninterface Props {\n  name: string\n}\n\ninterface PersonaProps {\n  name: string\n  getPersonaColor: (name: string) => string | null\n  setPersonaColor: (name: string, color: string) => void\n}\n\n/*\n * Styled Components\n */\nconst PersonaWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 0.5rem;\n`\n\nconst SketchPickerWrapper = styled.div`\n  position: relative;\n  padding: 2rem;\n  opacity: 0;\n  animation: ${fadeInAnimation} forwards 0.4s;\n`\n\nconst PersonaTitleWrapper = styled.div`\n  cursor: pointer;\n`\n\nconst ButtonWrapper = styled.button`\n  position: absolute;\n  top: 0.5rem;\n  right: 0.5rem;\n  border: none;\n  background: transparent;\n  outline: none;\n  cursor: pointer;\n`\n\n/*\n * Components\n */\nconst PersonaComponent = (props: PersonaProps) => {\n  const { name, getPersonaColor, setPersonaColor } = props\n\n  const [\n    isColorPickerVisible,\n    setIsColorPickerVisible\n  ] = useState<boolean>()\n\n  const [sketchPickerColor, setSketchPickerColor] = useState<string>(\n    ''\n  )\n\n  /*\n   * React Hooks\n   */\n  useEffect(() => {\n    const handleEsc = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') setIsColorPickerVisible(false)\n    }\n\n    document.addEventListener('keyup', handleEsc)\n\n    return () => {\n      document.removeEventListener('keyup', handleEsc)\n    }\n  }, [])\n\n  /*\n   * Event Handlers\n   */\n  const handleToggleColorPicker = () => {\n    if (!isColorPickerVisible) {\n      const color = getPersonaColor(name)\n      color && setSketchPickerColor(color)\n\n      setIsColorPickerVisible(true)\n    } else {\n      setIsColorPickerVisible(false)\n    }\n  }\n\n  const handleColorChange = (color: ColorResult) => {\n    const { hex } = color\n\n    setSketchPickerColor(hex)\n  }\n\n  const handleChangeComplete = () => {\n    setPersonaColor(name, sketchPickerColor)\n  }\n\n  const color = isColorPickerVisible\n    ? sketchPickerColor\n    : getPersonaColor(name)\n\n  return (\n    <PersonaWrapper>\n      <PersonaTitleWrapper\n        style={{\n          color: color || `#000`\n        }}\n        onClick={handleToggleColorPicker}\n      >\n        {name}\n      </PersonaTitleWrapper>\n      {isColorPickerVisible && (\n        <SketchPickerWrapper>\n          <ButtonWrapper onClick={handleToggleColorPicker}>\n            <Icon icon=\"times\" />\n          </ButtonWrapper>\n          <SketchPicker\n            color={sketchPickerColor}\n            onChange={handleColorChange}\n            onChangeComplete={handleChangeComplete}\n          />\n        </SketchPickerWrapper>\n      )}\n    </PersonaWrapper>\n  )\n}\n\nexport const Persona = (props: Props) => {\n  const { name } = props\n\n  return (\n    <PersonaeConsumer>\n      {(context) => {\n        const {\n          getPersonaColor,\n          setPersonaColor\n        } = context as PersonaeContextProps\n\n        return (\n          <PersonaComponent\n            name={name}\n            getPersonaColor={getPersonaColor}\n            setPersonaColor={setPersonaColor}\n          />\n        )\n      }}\n    </PersonaeConsumer>\n  )\n}\n","import React from 'react'\nimport { PersonaeConsumer } from 'contexts'\nimport { PersonaeContextProps } from 'types'\nimport { Title } from 'components'\n\ninterface Props {\n  text: string\n}\n\n/*\n * Component\n */\nexport const SpeechTitle = (props: Props) => {\n  const { text } = props\n\n  return (\n    <PersonaeConsumer>\n      {(context) => {\n        const { getPersonaColor } = context as PersonaeContextProps\n\n        const color = getPersonaColor(text)\n\n        return (\n          <Title\n            text={text}\n            color={color || '#222222'}\n            size=\"small\"\n          />\n        )\n      }}\n    </PersonaeConsumer>\n  )\n}\n","import React from 'react'\nimport { NodeProps } from 'types'\nimport { Text, Persona } from 'components'\n\n/*\n * Component\n */\nexport const PersonaGroup = (props: NodeProps) => {\n  const { childNodes } = props\n\n  return (\n    <>\n      {childNodes &&\n        childNodes.map((child, index) => {\n          const { nodeName, text } = child\n\n          switch (nodeName) {\n            case 'persona':\n              return (\n                text && (\n                  <Persona\n                    key={`persona-group-${index}`}\n                    name={text}\n                  />\n                )\n              )\n            case 'grpdescr':\n              return (\n                text && (\n                  <Text\n                    key={`persona-group-grpdescr-${index}`}\n                    text={text}\n                  />\n                )\n              )\n            default:\n              break\n          }\n        })}\n    </>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface Props {\n  text: string\n}\n\n/*\n * Styled Components\n */\nconst TextWrapper = styled.div``\n\n/*\n * Component\n */\nexport const Text = (props: Props) => {\n  const { text } = props\n\n  return <TextWrapper>{text}</TextWrapper>\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components/macro'\n\ntype TitleSize = 'large' | 'medium' | 'small' | 'extra-small'\n\ninterface Props {\n  text: string\n  size?: TitleSize\n  color?: string\n}\n\n/*\n * Styled Components\n */\nconst TitleWrapper = styled.span<{ size: TitleSize; color?: string }>(\n  (props) => {\n    const {\n      size,\n      color,\n      theme: { headerFont }\n    } = props\n\n    return css`\n      font-family: ${headerFont};\n      display: block;\n\n      ${size === 'large' &&\n      css`\n        font-size: 2rem;\n      `}\n\n      ${size === 'medium' &&\n      css`\n        font-size: 1.5rem;\n        margin-bottom: 1rem;\n      `}\n      \n      ${size === 'small' &&\n      css`\n        font-size: 1.2rem;\n        margin-bottom: 0.5rem;\n      `}\n      \n      ${size === 'extra-small' &&\n      css`\n        font-size: 1rem;\n      `}\n\n    ${color &&\n      css`\n        color: ${color};\n      `}\n    `\n  }\n)\n\n/*\n * Component\n */\nexport const Title = (props: Props) => {\n  const { text, size = 'medium', color } = props\n\n  return (\n    <TitleWrapper size={size} color={color}>\n      {text.toUpperCase()}\n    </TitleWrapper>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { NodeProps } from 'types'\nimport { Speech, Title } from 'components'\n\n/*\n * Styled Components\n */\nconst SceneWrapper = styled.div`\n  margin-top: 2rem;\n`\n\nconst StageDirWrapper = styled.div`\n  margin-top: 1rem;\n`\n\n/*\n * Component\n */\nexport const Scene = (props: NodeProps) => {\n  const { childNodes } = props\n\n  return (\n    <SceneWrapper>\n      {childNodes &&\n        childNodes.map((child, index) => {\n          const { nodeName, childNodes, text } = child\n\n          switch (nodeName) {\n            case 'title':\n              return (\n                text && (\n                  <Title\n                    key={`scene-title-${index}`}\n                    text={text}\n                    size=\"medium\"\n                  />\n                )\n              )\n\n            case 'stagedir':\n              return (\n                text && (\n                  <StageDirWrapper key={`scene-stagedir-${index}`}>\n                    <Title text={text} size=\"extra-small\" />\n                  </StageDirWrapper>\n                )\n              )\n\n            case 'speech':\n              return (\n                <Speech\n                  key={`scene-speech-${index}`}\n                  nodeName={nodeName}\n                  childNodes={childNodes}\n                />\n              )\n\n            default:\n              break\n          }\n        })}\n    </SceneWrapper>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { NodeProps } from 'types'\nimport { Text, Title, SpeechTitle } from 'components'\n\n/*\n * Styled Components\n */\nconst SpeechWrapper = styled.div`\n  margin-top: 2rem;\n`\n\nconst StageDirWrapper = styled.div`\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n`\n\n/*\n * Component\n */\nexport const Speech = (props: NodeProps) => {\n  const { childNodes } = props\n\n  return (\n    <SpeechWrapper>\n      {childNodes &&\n        childNodes.map((child, index) => {\n          const { nodeName, text } = child\n\n          switch (nodeName) {\n            case 'speaker':\n              return (\n                text && (\n                  <SpeechTitle\n                    key={`scene-title-${index}`}\n                    text={text}\n                  />\n                )\n              )\n\n            case 'line':\n              return (\n                text && (\n                  <Text key={`speech-speaker-${index}`} text={text} />\n                )\n              )\n\n            case 'stagedir':\n              return (\n                text && (\n                  <StageDirWrapper key={`speech-stagedir-${index}`}>\n                    <Title text={text} size=\"extra-small\" />\n                  </StageDirWrapper>\n                )\n              )\n\n            default:\n              break\n          }\n        })}\n    </SpeechWrapper>\n  )\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  library,\n  IconPrefix,\n  SizeProp\n} from '@fortawesome/fontawesome-svg-core'\nimport { IconPaddingOptions } from 'types'\n\nimport {\n  faTimes,\n  faBars,\n  faChevronUp,\n  faChevronDown,\n  faChevronLeft,\n  faChevronRight,\n  faFeatherAlt,\n  faPlay,\n  faForward,\n  faBackward,\n  faStepForward,\n  faStepBackward,\n  faPlus,\n  faMinus,\n  faPause,\n  faSearch\n} from '@fortawesome/free-solid-svg-icons'\n\nexport type IconName =\n  | 'times'\n  | 'bars'\n  | 'chevron-up'\n  | 'chevron-down'\n  | 'chevron-left'\n  | 'chevron-right'\n  | 'feather-alt'\n  | 'play'\n  | 'pause'\n  | 'forward'\n  | 'backward'\n  | 'step-forward'\n  | 'step-backward'\n  | 'plus'\n  | 'minus'\n  | 'search'\n\ninterface Props {\n  icon?: IconName\n  padding?: IconPaddingOptions\n  isCentre?: boolean\n  isSpinning?: boolean\n  prefix?: string\n  size?: SizeProp\n  isShadow?: boolean\n}\n\nlibrary.add(\n  faChevronUp,\n  faChevronDown,\n  faChevronLeft,\n  faChevronRight,\n  faTimes,\n  faBars,\n  faFeatherAlt,\n  faPlay,\n  faPause,\n  faForward,\n  faBackward,\n  faStepForward,\n  faStepBackward,\n  faPlus,\n  faMinus,\n  faSearch\n)\n\n/*\n * Styled Components\n */\nconst IconWrapper = styled.div<{\n  isCentre: boolean\n  padding: IconPaddingOptions\n}>((props) => {\n  const { isCentre, padding } = props\n\n  let paddingSize = '0.25rem'\n\n  switch (padding) {\n    case 'none':\n      paddingSize = '0'\n      break\n    case 'small':\n      paddingSize = '0.125rem'\n      break\n  }\n\n  return css`\n    margin-right: ${paddingSize};\n    display: flex;\n    pointer-events: none;\n    align-items: center;\n\n    ${isCentre &&\n    css`\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 50%;\n      transform: translateY(-50%);\n      margin: auto;\n    `}\n\n    path {\n      pointer-events: none;\n      fill: inherit;\n    }\n\n    svg {\n      pointer-events: none;\n      left: 50%;\n      transform: translateX(-50%);\n      position: relative;\n    }\n  `\n})\n\n/*\n * Component\n */\nexport const Icon = (props: Props) => {\n  const {\n    icon = 'ghost',\n    padding = 'none',\n    isCentre = false,\n    prefix = 'fas',\n    size = '1x'\n  } = props\n\n  return (\n    <IconWrapper padding={padding} isCentre={isCentre}>\n      <FontAwesomeIcon\n        size={size}\n        icon={[prefix as IconPrefix, icon as IconName]}\n        fixedWidth={true}\n      />\n    </IconWrapper>\n  )\n}\n","import React, {\n  useState,\n  useEffect,\n  forwardRef,\n  Ref,\n  useImperativeHandle\n} from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport YouTube from 'react-youtube'\nimport { YouTubePlayer } from 'youtube-player/dist/types'\nimport { Keyframe, PlayerRef } from 'types'\nimport { stringToSeconds, findString } from 'utils'\nimport { Icon, Button, Title, AutoscrollControls } from 'components'\n\ninterface Props {\n  youtubeId: string\n  actKeyframes: Keyframe[]\n}\n\n/*\n * Styled Components\n */\nconst PlayerWrapper = styled.div((props) => {\n  const {\n    theme: { boxShadow }\n  } = props\n\n  return css`\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    height: 200px;\n    background: #fff;\n    box-shadow: ${boxShadow};\n    display: flex;\n  `\n})\n\nconst DetailsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n  justify-content: space-around;\n`\n\nconst YoutubeWrapper = styled.div`\n  width: 200px;\n  height: 200px;\n  background: #eee;\n`\n\nconst ControlWrapper = styled.div`\n  display: flex;\n  justify-content: space-around;\n`\n\n/*\n * Component\n */\nconst PlayerRefComponent = (props: Props, ref: Ref<PlayerRef>) => {\n  const { youtubeId, actKeyframes } = props\n\n  /*\n   * State\n   */\n  const [player, setPlayer] = useState<YouTubePlayer>()\n  const [isPlaying, setIsPlaying] = useState<boolean>(false)\n\n  useImperativeHandle(ref, () => ({\n    updatePlayer: (updateId: string) => {\n      const keyframe = actKeyframes.find((actKeyframe) => {\n        const { title } = actKeyframe\n\n        return title.toLowerCase() === updateId.toLowerCase()\n      })\n\n      if (keyframe) {\n        player?.seekTo(stringToSeconds(keyframe.time), true)\n\n        // console.log('Update Player >', stringToSeconds(keyframe.time))\n      }\n    }\n  }))\n\n  /*\n   * useEffect: Scroll to previous Y\n   */\n  // useEffect(() => {\n  //   if (youtubeId) {\n  //     const scrollY = localStorage.getItem(`${youtubeId}-s`)\n\n  //     if (scrollY) window.scrollTo(0, parseFloat(scrollY))\n  //   }\n  // }, [youtubeId])\n\n  /*\n   * useEffect: Save audio and page position whilst playing...\n   */\n  useEffect(() => {\n    const handleSaveInterval = () => {\n      if (isPlaying) {\n        localStorage.setItem(`${youtubeId}-s`, `${window.scrollY}`)\n        localStorage.setItem(\n          `${youtubeId}-t`,\n          `${player?.getCurrentTime()}`\n        )\n      }\n    }\n\n    const interval = setInterval(handleSaveInterval, 1000)\n\n    return () => {\n      clearInterval(interval)\n    }\n  }, [isPlaying])\n\n  useEffect(() => {\n    if (isPlaying) {\n      const seekTime = localStorage.getItem(`${youtubeId}-t`)\n      if (seekTime) player?.seekTo(parseFloat(seekTime), true)\n      //   // const scrollY = localStorage.getItem(`${youtubeId}-s`)\n      //   // if (scrollY) window.scrollTo(0, parseFloat(scrollY))\n    }\n  }, [isPlaying])\n\n  /*\n   * Player Handle Events\n   */\n  const handleReady = (event: { target: YouTubePlayer }) => {\n    const { target } = event\n\n    setPlayer(target)\n  }\n\n  const handlePlayerPlay = () => {\n    setIsPlaying(true)\n  }\n\n  const handlePlayerPause = () => setIsPlaying(false)\n\n  /*\n   * Handle Events\n   */\n\n  const handleStepBackward = () => {\n    findString('ACT I', false, false, true, true)\n    console.log('handleStepBackward')\n  }\n\n  const handleStepForward = () => {\n    findString('ACT II', false, false, true, true)\n    console.log('handleStepBackward')\n  }\n\n  const handleForward = () => {\n    player && player.seekTo(player.getCurrentTime() + 10, true)\n  }\n\n  const handleBack = () => {\n    player && player.seekTo(player.getCurrentTime() - 10, true)\n  }\n\n  const handlePlay = () => {\n    if (!isPlaying) {\n      player?.playVideo()\n    } else {\n      player?.pauseVideo()\n    }\n  }\n\n  return (\n    <PlayerWrapper>\n      <YoutubeWrapper>\n        <YouTube\n          videoId={youtubeId}\n          opts={{\n            height: '200',\n            width: '200',\n            playerVars: {\n              controls: 0,\n              autoplay: 0,\n              playsinline: 1\n            }\n          }}\n          onReady={handleReady}\n          onPlay={handlePlayerPlay}\n          onPause={handlePlayerPause}\n        />\n      </YoutubeWrapper>\n      <DetailsWrapper>\n        <Title text=\"Act i\" size=\"small\" />\n\n        <ControlWrapper>\n          <Button onClick={handleStepBackward}>\n            <Icon icon=\"step-backward\" />\n          </Button>\n          <Button onClick={handleBack}>\n            <Icon icon=\"backward\" size=\"2x\" />\n          </Button>\n          <Button onClick={handlePlay}>\n            <Icon icon={isPlaying ? 'pause' : 'play'} size=\"2x\" />\n          </Button>\n          <Button onClick={handleForward}>\n            <Icon icon=\"forward\" size=\"2x\" />\n          </Button>\n          <Button onClick={handleStepForward}>\n            <Icon icon=\"step-forward\" />\n          </Button>\n        </ControlWrapper>\n\n        <AutoscrollControls isPlaying={isPlaying} />\n      </DetailsWrapper>\n    </PlayerWrapper>\n  )\n}\n\nexport const Player = forwardRef(PlayerRefComponent)\n","import React, { useEffect, useState } from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { Helmet } from 'react-helmet-async'\nimport { StyledLink, Title, ParallaxHeader } from 'components'\n\ninterface MenuProps {\n  title: string\n  plays: Plays[]\n}\n\ninterface Plays {\n  title: string\n  id: string\n}\n\n/*\n * Styled Components\n */\nconst PageLayout = styled.div`\n  width: 100%;\n  height: 100%;\n`\n\nconst MenuWrapper = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n`\n\nconst MenuColumn = styled.div`\n  min-width: 250px;\n`\nconst TitleWrapper = styled.div`\n  margin: 1rem 0 0 1rem;\n`\n\nconst MenuLinkWrapper = styled.div<{ isActive: boolean }>((props) => {\n  const {\n    isActive,\n    theme: { color, borderColor }\n  } = props\n\n  return css`\n    box-sizing: content-box;\n    position: relative;\n    transition: opacity 0.4s;\n    text-transform: uppercase;\n    font-size: 0.8125rem;\n    padding: 0.75rem 1rem;\n    display: flex;\n    border-bottom: 1px solid transparent;\n\n    :hover {\n      border-bottom: 1px solid ${color};\n    }\n\n    ${isActive &&\n    css`\n      border-bottom: 1px solid ${borderColor};\n    `}\n  `\n})\n\n/*\n * Component\n */\nexport const Menu = () => {\n  const [menuContent, setMenuContent] = useState<\n    Record<string, unknown>\n  >()\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/data/menu.json`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }\n    })\n      .then((response) => response.json())\n      .then((menuContent) => {\n        setMenuContent(menuContent)\n      })\n  }, [])\n\n  const menu =\n    menuContent &&\n    Object.keys(menuContent).map((value) => {\n      const menuItem = menuContent[value] as MenuProps\n\n      return (\n        <MenuColumn key={`menu-${menuItem.title}`}>\n          <TitleWrapper>\n            <Title text={menuItem.title} />\n          </TitleWrapper>\n\n          {menuItem.plays.map((play) => {\n            const { id, title } = play\n\n            return (\n              <StyledLink\n                key={`menu-project-${id}`}\n                to={`/play/${id}`}\n              >\n                <MenuLinkWrapper isActive={false}>\n                  {title}\n                </MenuLinkWrapper>\n              </StyledLink>\n            )\n          })}\n        </MenuColumn>\n      )\n    })\n\n  return (\n    <>\n      <Helmet>\n        <title>Plays</title>\n      </Helmet>\n\n      <ParallaxHeader />\n\n      <PageLayout>\n        <MenuWrapper>{menu}</MenuWrapper>\n      </PageLayout>\n    </>\n  )\n}\n","import React, { ReactNode } from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { NavLink } from 'react-router-dom'\nimport { Icon, IconName } from 'components'\n\ninterface Props {\n  to: string\n  children: ReactNode | string\n  asButton?: boolean\n  icon?: IconName\n  isBlock?: boolean\n  onClick?: () => void\n}\n\n/*\n * Styled Components\n */\nconst StyledLinkWrapper = styled((props) => {\n  const linkProps = { ...props }\n\n  delete linkProps.asButton\n  delete linkProps.isBlock\n  delete linkProps.isHoverOpacityDisabled\n\n  return <NavLink {...linkProps} />\n})((props) => {\n  const {\n    theme: {\n      color,\n      gradientToColor,\n      gradientFromColor,\n      boxShadow,\n      borderRadius\n    },\n    asButton,\n    isBlock\n  } = props\n\n  return css`\n    color: ${color};\n    fill: ${color};\n    text-decoration: none;\n    cursor: pointer;\n\n    div {\n      margin-right: 0.5rem;\n    }\n\n    ${asButton &&\n    css`\n      display: flex;\n      color: ${color};\n      background: ${gradientToColor};\n      background-image: linear-gradient(\n        145deg,\n        ${gradientToColor} 0%,\n        ${gradientFromColor} 100%\n      );\n\n      border-radius: ${borderRadius}rem;\n      padding: 0.5rem 1rem;\n      box-shadow: ${boxShadow};\n      justify-content: center;\n      font-size: 0.8125rem;\n      text-transform: uppercase;\n      opacity: 1;\n    `}\n\n    ${isBlock &&\n    css`\n      width: 100%;\n    `}\n  `\n})\n\n/*\n * Component\n */\nexport const StyledLink = (props: Props) => {\n  const {\n    to,\n    children,\n    asButton = false,\n    icon,\n    onClick,\n    isBlock = false\n  } = props\n\n  /*\n   * Event Handlers\n   */\n  const handleClick = (e: React.MouseEvent) => {\n    e.stopPropagation()\n    onClick && onClick()\n  }\n\n  return (\n    <StyledLinkWrapper\n      to={to}\n      onClick={handleClick}\n      asButton={asButton}\n      isBlock={isBlock}\n    >\n      {icon && <Icon icon={icon} isShadow />}\n      {children}\n    </StyledLinkWrapper>\n  )\n}\n","import React, {\n  useEffect,\n  useState,\n  createRef,\n  useContext\n} from 'react'\nimport styled from 'styled-components/macro'\nimport axios from 'axios'\nimport { useParams } from 'react-router-dom'\nimport { NodeProps, PlayContentProps, PlayerRef } from 'types'\nimport { Play, Player, Loading } from 'components'\nimport { PersonaeContext } from 'contexts'\nimport { xmlParser } from 'utils'\n\ninterface Props {\n  playId: string\n}\n\n/*\n * Styled Components\n */\nconst PlayViewerWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n`\n\nconst BackgroundImage = styled.div`\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: -1;\n  opacity: 0.1;\n  background-image: url(${process.env.PUBLIC_URL}/shakespeare.jpg);\n\n  background-size: cover;\n  background-position: center;\n`\n\n/*\n * Component\n */\nexport const PlayViewer = () => {\n  const { playId } = useParams<Props>()\n\n  const personaeContext = useContext(PersonaeContext)\n\n  useEffect(() => {\n    personaeContext?.setPlayId(playId)\n  }, [])\n\n  /*\n   * State/Ref\n   */\n  const [play, setPlay] = useState<NodeProps>()\n  const [playContent, setPlayContent] = useState<PlayContentProps>()\n  const playerRef = createRef<PlayerRef>()\n\n  /*\n   * React Hooks\n   */\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/data/${playId}.json`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }\n    })\n      .then((response) => response.json())\n      .then((playContent) => {\n        setPlayContent(playContent)\n      })\n  }, [playId])\n\n  useEffect(() => {\n    if (playContent) {\n      axios\n        .get(`${process.env.PUBLIC_URL}/plays/${playContent.xml}.xml`)\n        .then((response) => {\n          const parser = new DOMParser()\n          const dom = parser.parseFromString(\n            response.data,\n            'application/xml'\n          )\n\n          setPlay(xmlParser({ dom, childNodes: [] }))\n        })\n    }\n  }, [playContent])\n\n  /*\n   * Handle Events\n   */\n  const handleUpdatePlayer = (updateId: string) =>\n    playerRef.current && playerRef.current.updatePlayer(updateId)\n\n  if (!play) return <Loading />\n  if (!play.childNodes) return <>ERROR</>\n\n  return (\n    <PlayViewerWrapper>\n      <BackgroundImage />\n      <Play\n        nodeName={play.childNodes[0].nodeName}\n        childNodes={play.childNodes[0].childNodes}\n        onUpdatePlayer={handleUpdatePlayer}\n      />\n      {playContent && (\n        <Player\n          youtubeId={playContent?.youtube}\n          actKeyframes={playContent?.actKeyframes}\n          ref={playerRef}\n        />\n      )}\n    </PlayViewerWrapper>\n  )\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { Icon } from 'components'\nimport { quillAnimation, lineAnimation } from 'utils'\n\n/*\n * Styled Components\n */\nconst LoadingWrapper = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst LoadingText = styled.div((props) => {\n  const {\n    theme: { headerFont }\n  } = props\n\n  return css`\n    font-family: ${headerFont};\n    margin-bottom: 0.5rem;\n  `\n})\n\nconst QuillWrapper = styled.div`\n  transform-origin: 0 100%;\n  animation: ${quillAnimation} infinite 0.8s;\n`\n\nconst LineWrapper = styled.div`\n  width: 65%;\n  height: 1px;\n  background: black;\n  position: relative;\n\n  :after {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    left: 0;\n    top: 0;\n\n    animation: ${lineAnimation} infinite 0.8s;\n  }\n`\n\n/*\n * Component\n */\nexport const Loading = () => {\n  return (\n    <LoadingWrapper>\n      <LoadingText>Loading</LoadingText>\n      <QuillWrapper>\n        <Icon icon=\"feather-alt\" />\n      </QuillWrapper>\n      <LineWrapper />\n    </LoadingWrapper>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { Title } from 'components'\n\n/*\n * Styled Components\n */\nconst MenuHeader = styled.div`\n  position: relative;\n  height: 200px;\n  overflow: hidden;\n`\n\nconst TitleWrapper = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n`\n\nconst ParallaxBackground = styled.img`\n  width: 100%;\n`\n\nconst MenuHeaderTorn = styled.div`\n  width: 100%;\n  height: 69px;\n  position: absolute;\n  bottom: 0;\n  background-image: url('${process.env.PUBLIC_URL}/edge.png');\n  background-repeat-y: no-repeat;\n`\n\n/*\n * Component\n */\nexport const ParallaxHeader = () => {\n  return (\n    <MenuHeader>\n      <TitleWrapper>\n        <Title text=\"Shakespeare\" size=\"large\" />\n      </TitleWrapper>\n      <ParallaxBackground\n        src={`${process.env.PUBLIC_URL}/shakespeare.jpg`}\n        alt=\"\"\n      />\n      <MenuHeaderTorn />\n    </MenuHeader>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { NavLink } from 'react-router-dom'\nimport { Title, Icon, Button, Search } from 'components'\n\ninterface Props {\n  title: string\n}\n\n/*\n * Styled Components\n */\nconst TitleWrapper = styled.div((props) => {\n  const {\n    theme: { background, boxShadow }\n  } = props\n\n  return css`\n    position: fixed;\n    width: 100%;\n    top: 0;\n    padding: 1rem 0;\n    background: ${background};\n    box-shadow: ${boxShadow};\n    z-index: 1;\n  `\n})\n\nconst HomeButtonWrapper = styled(NavLink)`\n  position: absolute;\n  left: 0.5rem;\n  top: 50%;\n  transform: translateY(-50%);\n  padding: 1rem;\n  transition: background 0.2s, fill 0.2s;\n\n  :hover {\n    background: #000;\n    fill: #fff;\n  }\n`\n\nconst SearchButtonWrapper = styled.div`\n  position: absolute;\n  right: 0.5rem;\n  top: 50%;\n  transform: translateY(-50%);\n  padding: 1rem;\n`\n\n/*\n * Component\n */\nexport const PlayHeader = (props: Props) => {\n  const { title } = props\n\n  /*\n   * State\n   */\n  const [isSearchVisible, setIsSearchVisible] = useState(false)\n\n  /*\n   * React Hooks\n   */\n  useEffect(() => {\n    const enterPress = (event: KeyboardEvent) =>\n      event.key === 'Escape' && setIsSearchVisible(false)\n\n    window.addEventListener('keydown', enterPress)\n\n    return () => {\n      window.removeEventListener('keydown', enterPress)\n    }\n  }, [])\n\n  /*\n   * Event Handler\n   */\n  const handleSearch = () => setIsSearchVisible(!isSearchVisible)\n\n  return (\n    <TitleWrapper>\n      <HomeButtonWrapper to={`/`}>\n        <Icon icon=\"feather-alt\" />\n      </HomeButtonWrapper>\n      <Title text={title} size=\"large\" />\n      <SearchButtonWrapper>\n        <Button onClick={handleSearch}>\n          <Icon icon={isSearchVisible ? 'times' : 'search'} />\n        </Button>\n      </SearchButtonWrapper>\n      {isSearchVisible && <Search />}\n    </TitleWrapper>\n  )\n}\n","import React, { useState } from 'react'\nimport styled, { useTheme } from 'styled-components/macro'\nimport ReactSwitch from 'react-switch'\nimport { SwitchProps } from 'types'\n\n/*\n * Styled Components\n */\nconst Label = styled.span`\n  font-size: 0.625rem;\n  color: inherit;\n  text-transform: uppercase;\n`\n\nconst SwitchWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\n/*\n * Component\n */\nexport const Switch = (props: SwitchProps) => {\n  const {\n    label,\n    isLabelVisible = true,\n    isChecked = false,\n    onChange\n  } = props\n\n  const { accentColor } = useTheme()\n\n  /*\n   * State\n   */\n  const [isCheckedState, setChecked] = useState(isChecked)\n\n  /*\n   * Event Handlers\n   */\n  const handleChange = () => {\n    setChecked(!isCheckedState)\n    onChange && onChange(!isCheckedState)\n  }\n\n  return (\n    <SwitchWrapper>\n      {label && isLabelVisible && <Label>{label}</Label>}\n      <ReactSwitch\n        checked={isCheckedState}\n        onChange={handleChange}\n        onColor={accentColor}\n        aria-checked={isCheckedState}\n        aria-label={label}\n        height={16}\n      />\n    </SwitchWrapper>\n  )\n}\n","import React, { useRef, useEffect } from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { Button, Icon } from 'components'\nimport { findString, fadeInAnimation, leftInAnimation } from 'utils'\n\n/*\n * Styled Component\n */\nconst SearchWrapper = styled.div((props) => {\n  const {\n    theme: { background, boxShadow }\n  } = props\n\n  return css`\n    position: absolute;\n    right: 0;\n    bottom: -4rem;\n    padding: 0.5rem 0.5rem 0.5rem 1rem;\n    display: flex;\n    flex-direction: row;\n    background: ${background};\n    box-shadow: ${boxShadow};\n    animation: ${fadeInAnimation} forwards 0.4s,\n      ${leftInAnimation} forwards 0.4s;\n  `\n})\n\nconst StyledInput = styled.input((props) => {\n  const {\n    theme: { headerFont }\n  } = props\n\n  return css`\n    font-size: 1.5rem;\n    width: 100%;\n    max-width: 375px;\n    outline: none;\n    font-family: ${headerFont};\n    border: none;\n    padding: 0.5rem;\n  `\n})\n\n/*\n * Component\n */\nexport const Search = () => {\n  /*\n   * Ref\n   */\n  const contentRef = useRef<HTMLInputElement>()\n\n  /*\n   * Event Handlers\n   */\n  const handleSearchClick = () => {\n    if (contentRef.current) {\n      findString(contentRef.current.value)\n    }\n  }\n\n  /*\n   * React Hooks\n   */\n  useEffect(() => {\n    const enterPress = (event: KeyboardEvent) =>\n      event.key === 'Enter' && handleSearchClick()\n\n    window.addEventListener('keypress', enterPress)\n\n    if (contentRef.current) contentRef.current.focus()\n\n    return () => {\n      window.addEventListener('keypress', enterPress)\n    }\n  }, [])\n\n  return (\n    <SearchWrapper>\n      <StyledInput\n        type=\"text\"\n        ref={(ref) => {\n          contentRef.current = ref as HTMLInputElement\n        }}\n        placeholder=\"Search...\"\n      />\n      <Button onClick={handleSearchClick}>\n        <Icon icon=\"chevron-right\" />\n      </Button>\n    </SearchWrapper>\n  )\n}\n","import React, { useEffect, useState, useRef } from 'react'\nimport styled from 'styled-components/macro'\nimport { Icon, Button, Switch } from 'components'\n\ninterface Props {\n  isPlaying: boolean\n}\n\n/*\n * Styled Components\n */\nconst ControlWrapper = styled.div`\n  display: flex;\n  justify-content: space-around;\n`\n\n/*\n * Component\n */\nexport const AutoscrollControls = (props: Props) => {\n  const { isPlaying } = props\n  const [isAutoscrolling, setIsAutoscrolling] = useState<boolean>(\n    false\n  )\n  const isScrolling = useRef<boolean>(false)\n  const autoScrollPosition = useRef<number>(0)\n  const autoScrollRate = useRef<number>(0.5)\n\n  useEffect(() => {\n    return () => {\n      isScrolling.current = false\n    }\n  }, [])\n\n  useEffect(() => {\n    if (isPlaying) {\n      isScrolling.current = true\n\n      if (isAutoscrolling && document.scrollingElement)\n        autoScrollPosition.current =\n          document.scrollingElement.scrollTop\n    } else {\n      isScrolling.current = false\n    }\n  }, [isPlaying])\n\n  useEffect(() => {\n    if (isAutoscrolling && document.scrollingElement)\n      autoScrollPosition.current = document.scrollingElement.scrollTop\n  }, [isAutoscrolling])\n\n  useEffect(() => {\n    if (isAutoscrolling && isPlaying) {\n      const autoScroll = () => {\n        window.requestAnimationFrame(() => {\n          if (isScrolling.current) {\n            if (document.scrollingElement) {\n              autoScrollPosition.current += autoScrollRate.current\n\n              document.scrollingElement.scrollTop =\n                autoScrollPosition.current\n            }\n\n            autoScroll()\n          }\n        })\n      }\n\n      autoScroll()\n    }\n  }, [isAutoscrolling, isPlaying])\n\n  const handleAutoscrollChange = (isChecked: boolean) => {\n    isScrolling.current = isChecked\n    setIsAutoscrolling(isChecked) // Triggers render\n  }\n\n  const handleDecreaseAutoscrollSpeed = () =>\n    (autoScrollRate.current -= 0.1)\n\n  const handleIncreaseAutoscrollSpeed = () =>\n    (autoScrollRate.current += 0.1)\n\n  return (\n    <ControlWrapper>\n      <Button onClick={handleDecreaseAutoscrollSpeed}>\n        <Icon icon=\"minus\" />\n      </Button>\n      <Switch label=\"Autoscroll\" onChange={handleAutoscrollChange} />\n      <Button onClick={handleIncreaseAutoscrollSpeed}>\n        <Icon icon=\"plus\" />\n      </Button>\n    </ControlWrapper>\n  )\n}\n","import React, { StrictMode } from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\nimport { ThemeProvider } from 'styled-components/macro'\nimport { HelmetProvider } from 'react-helmet-async'\nimport { Theme } from 'themes'\nimport { PlayViewer, Menu } from 'components'\nimport { PersonaeProvider } from 'contexts'\n\nimport './index.css'\n\nReactDOM.render(\n  <StrictMode>\n    <HelmetProvider>\n      <ThemeProvider theme={Theme}>\n        <PersonaeProvider>\n          <Router>\n            <Switch>\n              <Route path=\"/play/:playId/\">\n                <PlayViewer />\n              </Route>\n              <Route path=\"/\">\n                <Menu />\n              </Route>\n            </Switch>\n          </Router>\n        </PersonaeProvider>\n      </ThemeProvider>\n    </HelmetProvider>\n  </StrictMode>,\n  document.getElementById('root')\n)\n","import 'styled-components'\n\ndeclare module 'styled-components' {\n  export interface DefaultTheme {\n    name: string\n\n    // Font\n    headerFont: string\n    copyFont: string\n\n    // Main Colors\n    color: string\n    background: string\n    borderColor: string\n    boxShadow: string\n    accentColor: string\n\n    // Dimensions\n    imageWidth: number\n    menuHeight: number\n    menuWidth: number\n\n    // Polygon\n    Mesh: {\n      width: number\n      height: number\n      sliceRatio: number\n      ambient: string\n      diffuse: string\n    }\n    Lights: {\n      zOffset: number\n      ambient: string\n      spotlights: string[]\n    }\n  }\n}\n\nexport const Theme = {\n  name: 'Theme',\n\n  // Font\n  headerFont: 'bardolatry',\n  copyFont: 'Antonio',\n\n  // Main Colors\n  color: '#212121',\n  background: '#ffffff',\n  borderColor: '#000',\n  accentColor: '#609ab8',\n  boxShadow: '0 0 0.5rem 0 rgba(0, 0, 0, 0.2)',\n\n  // Dimensions\n  imageWidth: 224,\n  menuHeight: 60,\n  menuWidth: 18.75,\n\n  // Polygon\n  Mesh: {\n    width: 1.2,\n    height: 1.2,\n    sliceRatio: 0.2,\n    ambient: '#555555',\n    diffuse: '#FFFFFF'\n  },\n  Lights: {\n    zOffset: 100,\n    ambient: '#084abd',\n    spotlights: ['#e7e698', '#e0dc82']\n  }\n}\n"],"sourceRoot":""}